<odoo>
    <!-- Template Report Daftar Buku -->
    <template id="report_library_book_document">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="web.external_layout">
                    <div class="page">
                        <h2>Detail Buku</h2>

                        <div class="row mt-3">
                            <div class="col-6">
                                <table class="table table-sm table-bordered">
                                    <tr>
                                        <th style="width: 40%;">Judul</th>
                                        <td><t t-esc="doc.name"/></td>
                                    </tr>
                                    <tr>
                                        <th>ISBN</th>
                                        <td><t t-esc="doc.isbn or '-'"/></td>
                                    </tr>
                                    <tr>
                                        <th>Kategori</th>
                                        <td><t t-esc="doc.category_id.name or '-'"/></td>
                                    </tr>
                                    <tr>
                                        <th>Tanggal Terbit</th>
                                        <td>
                                            <t t-if="doc.published_date">
                                                <span t-field="doc.published_date"/>
                                            </t>
                                            <t t-else="">-</t>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Harga</th>
                                        <td>
                                            Rp <t t-esc="'{:,.0f}'.format(doc.price)"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>Status</th>
                                        <td>
                                            <t t-if="doc.available">
                                                <span class="badge bg-success">Tersedia</span>
                                            </t>
                                            <t t-else="">
                                                <span class="badge bg-danger">Tidak Tersedia</span>
                                            </t>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <!-- Daftar Penulis -->
                        <t t-if="doc.author_ids">
                            <h4 class="mt-4">Penulis</h4>
                            <ul>
                                <t t-foreach="doc.author_ids" t-as="author">
                                    <li><t t-esc="author.name"/></li>
                                </t>
                            </ul>
                        </t>

                    </div>
                </t>
            </t>
        </t>
    </template>

    <!-- Template Report Katalog (semua buku dalam satu halaman) -->
    <template id="report_library_catalog_document">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <h2 class="text-center">Katalog Perpustakaan</h2>
                    <p class="text-center text-muted">
                        Dicetak pada: <t t-esc="context_timestamp(datetime.datetime.now()).strftime('%d/%m/%Y %H:%M')"/>
                    </p>

                    <table class="table table-sm table-bordered mt-4">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Judul</th>
                                <th>ISBN</th>
                                <th>Kategori</th>
                                <th>Penulis</th>
                                <th class="text-end">Harga</th>
                                <th class="text-center">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="docs" t-as="doc">
                                <tr>
                                    <td><t t-esc="doc_index + 1"/></td>
                                    <td><strong><t t-esc="doc.name"/></strong></td>
                                    <td><t t-esc="doc.isbn or '-'"/></td>
                                    <td><t t-esc="doc.category_id.name or '-'"/></td>
                                    <td>
                                        <t t-esc="', '.join(doc.author_ids.mapped('name')) or '-'"/>
                                    </td>
                                    <td class="text-end">
                                        Rp <t t-esc="'{:,.0f}'.format(doc.price)"/>
                                    </td>
                                    <td class="text-center">
                                        <t t-if="doc.available">Tersedia</t>
                                        <t t-else="">Tidak</t>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <div class="mt-3">
                        <strong>Total Buku:</strong> <t t-esc="len(docs)"/>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>